{% extends 'base.html' %}



{% block content %}
    <div class="container mt-4">
        <h1>Register</h1>
        <form method="post" class="mt-3">
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ form.username.id_for_label }}">Username:</label>
                <input type="text" name="{{ form.username.html_name }}" id="{{ form.username.auto_id }}" class="form-control{% if form.username.errors %} is-invalid{% endif %}" {% if form.username.value %}value="{{ form.username.value }}"{% endif %}>
                {% if form.username.errors %}
                    <div class="invalid-feedback">
                        {{ form.username.errors|first }}
                    </div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">Email:</label>
                <input type="email" name="{{ form.email.html_name }}" id="{{ form.email.auto_id }}" class="form-control{% if form.email.errors %} is-invalid{% endif %}" {% if form.email.value %}value="{{ form.email.value }}"{% endif %}>
                {% if form.email.errors %}
                    <div class="invalid-feedback">
                        {{ form.email.errors|first }}
                    </div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.password1.id_for_label }}">Password:</label>
                <input type="password" name="{{ form.password1.html_name }}" id="{{ form.password1.auto_id }}" class="form-control{% if form.password1.errors %} is-invalid{% endif %}" {% if form.password1.value %}value="{{ form.password1.value }}"{% endif %}>
                {% if form.password1.errors %}
                    <div class="invalid-feedback">
                        {{ form.password1.errors|first }}
                    </div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.password2.id_for_label }}">Confirm Password:</label>
                <input type="password" name="{{ form.password2.html_name }}" id="{{ form.password2.auto_id }}" class="form-control{% if form.password2.errors %} is-invalid{% endif %}" {% if form.password2.value %}value="{{ form.password2.value }}"{% endif %}>
                {% if form.password2.errors %}
                    <div class="invalid-feedback">
                        {{ form.password2.errors|first }}
                    </div>
                {% endif %}
            </div>
            <div class="form-group form-check">
                <input type="checkbox" name="{{ form.register_as_team.html_name }}" id="is_team" class="form-check-input" onclick="toggleTeamNameInput()">
                <label for="{{ form.register_as_team.auto_id }}" class="form-check-label">Register as a team</label>
            </div>
            <div class="form-group" id="team-name-group" style="display:none;">
                <label for="{{ form.team_name.id_for_label }}">Team name:</label>
                <input type="text" name="{{ form.team_name.html_name }}" id="{{ form.team_name.auto_id }}" class="form-control{% if form.team_name.errors %} is-invalid{% endif %}" {% if form.team_name.value %}value="{{ form.team_name.value }}"{% endif %}>
                {% if form.team_name.errors %}
                    <div class="invalid-feedback">
                        {{ form.team_name.errors|first }}
                    </div>
                {% endif %}
            </div>
            <button type="submit" class="btn btn-primary">Register</button>
        </form>
    </div>
    <script>
        function toggleTeamNameInput() {
            const checkBox = document.getElementById("is_team");
            const teamNameGroup = document.getElementById("team-name-group");
            if (checkBox.checked) {
                teamNameGroup.style.display = "block";
            } else {
                teamNameGroup.style.display = "none";
            }
        }
    </script>
{% endblock %}
